report_comment: >
    This report has been generated by the <a href="https://github.com/jsimonas/oligo-bench" target="_blank">jsimonas/oligo-bench</a>
    analysis pipeline. For information about how to interpret these results, please see the
    <a href="jsimonas/oligo-bench" target="_blank">documentation</a>.

report_section_order:
    software_versions:
        order: -1000

export_plots: true

top_modules:
  - 'custom_content'
  - 'samtools'
  - 'minimap2'

log_filesize_limit: 2000000000

# --------------------------------
# custom data
# --------------------------------

custom_data:
    ont_throughput:
        parent_id: 'custom_content'
        parent_name: 'MinKNOW'
        file_format: 'csv'
        plot_type: 'table'
        file_glob: '*_throughput.csv'
        section_name: 'Throughput'
    ont_pore_activity:
        parent_id: 'custom_content'
        parent_name: 'MinKNOW'
        file_format: 'csv'
        plot_type: 'linegraph'
        file_glob: '*_pore_act.csv'
        section_name: 'Pore activity'
        pconfig:
            id: 'ont_pore_activity'
            title: 'MinKNOW: Active Pores'
            ylab: 'Number of Active Pores'
            xlab: 'Experiment Time (minutes)'
    ont_pore_sequencing:
        parent_id: 'custom_content'
        parent_name: 'MinKNOW'
        file_format: 'csv'
        plot_type: 'linegraph'
        file_glob: '*_pore_seq.csv'
        section_name: 'Pore sequencing'
        pconfig:
            id: 'ont_pore_sequencing'
            title: 'MinKNOW: Pore Currently Sequencing'
            ylab: 'Number of Pores Currenly Sequencing'
            xlab: 'Experiment Time (minutes)'
    ont_pore_ratio:
        parent_id: 'custom_content'
        parent_name: 'MinKNOW'
        file_format: 'csv'
        plot_type: 'linegraph'
        file_glob: '*_pore_ratio.csv'
        section_name: 'Pore ratio'
        pconfig:
            id: 'ont_pore_ratio'
            title: 'MinKNOW: Pore ratio (sequecing / active)'
            ylab: 'Percentage, %'
            xlab: 'Experiment Time (minutes)'
    samtools_stats_mapq:
        parent_id: 'minimap2'
        parent_name: 'Minimap2'
        file_format: 'csv'
        plot_type: 'linegraph'
        file_glob: '*_MAPQ.csv'
        section_name: 'Mapping quality'
        pconfig:
            id: 'samtools_stats_mapq'
            title: 'Minimap2: Mapping Quality'
            ylab: 'Number of Reads'
            xlab: 'Mapping Quality Score (MAPQ)' 
            yLog: True
    samtools_stats_nm:
        parent_id: 'minimap2'
        parent_name: 'Minimap2'
        file_format: 'csv'
        plot_type: 'bargraph'
        file_glob: '*_nm_counts.csv'
        section_name: 'Mismatches'
        pconfig:
            id: 'samtools_stats_nm'
            title: 'Minimap2: Number of Mismatches (NM)'
            xlab: 'Number of Reads'
    samtools_stats_ins:
        parent_id: 'minimap2'
        parent_name: 'Minimap2'
        file_format: 'csv'
        plot_type: 'linegraph'
        file_glob: '*_INS.csv'
        section_name: 'Insertions'
        pconfig:
            id: 'samtools_stats_ins'
            title: 'Minimap2: Insertion distribution'
            ylab: 'Frequency'
            xlab: 'Insertion Length' 
    samtools_stats_del:
        parent_id: 'minimap2'
        parent_name: 'Minimap2'
        file_format: 'csv'
        plot_type: 'linegraph'
        file_glob: '*_DEL.csv'
        section_name: 'Deletions'
        pconfig:
            id: 'samtools_stats_del'
            title: 'Minimap2: Deletion distribution'
            ylab: 'Frequency'
            xlab: 'Deletion Length'
    count_seqs_bam:
        parent_id: 'minimap2'
        parent_name: 'Minimap2'
        file_format: 'csv'
        plot_type: 'linegraph'
        file_glob: '*_ref_counts.csv'
        section_name: 'Counts'
        pconfig:
            id: 'count_seqs_bam'
            title: 'Minimap2: Count distribution of reference sequences'
            ylab: 'Frequency'
            xlab: 'Counts' 
            xmin: 0

sp:
    ont_throughput:
        fn: '*_throughput.csv'
    ont_pore_activity:
        fn: '*_pore_act.csv'
    ont_pore_sequencing:
        fn: '*_pore_seq.csv'
    ont_pore_ratio:
        fn: '*_pore_ratio.csv'
    samtools_stats_mapq:
        fn: '*_MAPQ.csv'
    samtools_stats_nm:
        fn: '*_nm_counts.csv'
    samtools_stats_ins:
        fn: '*_INS.csv'
    samtools_stats_del:
        fn: '*_DEL.csv'
    count_seqs_bam:
        fn: '*_ref_dist.csv'

extra_fn_clean_exts:
    - type: 'remove'
      pattern: '_throughput.csv'
    - type: 'remove'
      pattern: '_pore_act.csv'
    - type: 'remove'
      pattern: '_pore_seq.csv'
    - type: 'remove'
      pattern: '_pore_ratio.csv'
    - type: 'remove'
      pattern: '_MAPQ.csv'
    - type: 'remove'
      pattern: '_nm_counts.csv'
    - type: 'remove'
      pattern: '_INS.csv'
    - type: 'remove'
      pattern: '_DEL.csv'
    - type: 'remove'
      pattern: '_ref_dist.csv'
